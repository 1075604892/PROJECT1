<!DOCTYPE html>
<html>

<head>
    <title>上传-云驿图片站</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="css/upload.css">
</head>

<body>
<ul class="nav">
    <li><a href="home.html">首页</a></li>
    <li><a href="browser.html">浏览页</a></li>
    <li><a href="search.html">搜索页</a></li>
    <div class="dropdown">
        <a href="" class="dropbtn">
            <img src="..\img\head.png" width="22" height="22">
            个人中心</a>
        <div class="dropdown-content">
            <a href="upload.html" class="active"><img src="..\img\icon\shangchuan.png" width="25" height="25">上传</a>
            <a href="photo.html">
                <img src="..\img\icon\tupian.png" width="25" height="25">
                我的图片</a>
            <a href="like.html">
                <img src="..\img\icon\shoucang.png" width="25" height="25">
                我的收藏</a>
            <a href="..\index.html">
                <img src="..\img\icon\denglu-copy.png" width="25" height="25">
                登入</a>
        </div>
    </div>
</ul>

<p class="simline">上传</p>

<table cellpadding="20px">
    <td>
        <p id="tip">图片未上传</p>
        <br>
        <img src="" id="uploadimg">
        <br>
        <button class="copy">
            <input type="file" id="uploadadd" onchange="upload(this)">
        </button>
        <p>图片标题</p>
        <input type="text" name="name">
        <p>拍摄国家</p>
        <input type="text" name="country">
        <p>拍摄城市</p>
        <input type="text" name="city">
        <p>图片描述</p>
        <textarea rows="6" cols="80"></textarea>
        <br>
        <a href="photo.html">
            <button class="bigbutton" onclick="alert('已上传')">上传</button>
        </a>
    </td>
</table>

<script>
    function upload(obj) {

        var file = obj.files[0];
        console.log("file.size = " + file.size);
        
        var reader = new FileReader();
        reader.onloadstart = function (e) {
            console.log("开始读取....");
        }
        reader.onprogress = function (e) {
            console.log("正在读取中....");
        }
        reader.onabort = function (e) {
            console.log("中断读取....");
        }
        reader.onerror = function (e) {
            console.log("读取异常....");
        }
        reader.onload = function (e) {
            console.log("成功读取....");
            var img = document.getElementById("uploadimg");
            img.src = e.target.result;
        }
        reader.readAsDataURL(file)
        var obj = document.getElementById("tip");
        obj.remove();
    }






</script>

<p>虚空备案号：19302016001</p>

</body>

</html>